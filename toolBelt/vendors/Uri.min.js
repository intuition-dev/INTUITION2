// mB v6.07.11 on 2019-07-03T01:14:49.385Z
!function(r){var t={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@\/]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}
function decode(r){return r&&(r=r.toString().replace(t.pluses,"%20"),r=decodeURIComponent(r)),r}function parseUri(r){var e=t.uri_parser.exec(r||""),i={}
return["source","protocol","authority","userInfo","user","password","host","port","isColonUri","relative","path","directory","file","query","anchor"].forEach(function(r,t){i[r]=e[t]||""}),i}function parseQuery(r){var e,i,s,o,n,h,u,a=[]
if(null==r||""===r)return a
for(0===r.indexOf("?")&&(r=r.substring(1)),e=0,u=(i=r.toString().split(t.query_separator)).length;e<u;e++)0!==(o=(s=i[e]).indexOf("="))&&(n=decode(s.substring(0,o)),h=decode(s.substring(o+1)),a.push(-1===o?[s,null]:[n,h]))
return a}function Uri(r){this.uriParts=parseUri(r),this.queryPairs=parseQuery(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(r,t){var e,i
if(null==this)throw new TypeError(" this is null or not defined")
var s=Object(this),o=s.length>>>0
if("function"!=typeof r)throw new TypeError(r+" is not a function")
for(arguments.length>1&&(e=t),i=0;i<o;){var n
i in s&&(n=s[i],r.call(e,n,i,s)),i++}}),["protocol","userInfo","host","port","path","anchor"].forEach(function(r){Uri.prototype[r]=function(t){return void 0!==t&&(this.uriParts[r]=t),this.uriParts[r]}}),Uri.prototype.hasAuthorityPrefix=function(r){return void 0!==r&&(this.hasAuthorityPrefixUserPref=r),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},Uri.prototype.isColonUri=function(r){if(void 0===r)return!!this.uriParts.isColonUri
this.uriParts.isColonUri=!!r},Uri.prototype.query=function(r){var t,e,i,s=""
for(void 0!==r&&(this.queryPairs=parseQuery(r)),t=0,i=this.queryPairs.length;t<i;t++)e=this.queryPairs[t],s.length>0&&(s+="&"),null===e[1]?s+=e[0]:(s+=e[0],s+="=",void 0!==e[1]&&(s+=encodeURIComponent(e[1])))
return s.length>0?"?"+s:s},Uri.prototype.getQueryParamValue=function(r){var t,e,i
for(e=0,i=this.queryPairs.length;e<i;e++)if(r===(t=this.queryPairs[e])[0])return t[1]},Uri.prototype.getQueryParamValues=function(r){var t,e,i,s=[]
for(t=0,i=this.queryPairs.length;t<i;t++)r===(e=this.queryPairs[t])[0]&&s.push(e[1])
return s},Uri.prototype.deleteQueryParam=function(r,t){var e,i,s,o,n,h=[]
for(e=0,n=this.queryPairs.length;e<n;e++)s=decode((i=this.queryPairs[e])[0])===decode(r),o=i[1]===t,(1!==arguments.length||s)&&(2!==arguments.length||s&&o)||h.push(i)
return this.queryPairs=h,this},Uri.prototype.addQueryParam=function(r,t,e){return 3===arguments.length&&-1!==e?(e=Math.min(e,this.queryPairs.length),this.queryPairs.splice(e,0,[r,t])):arguments.length>0&&this.queryPairs.push([r,t]),this},Uri.prototype.hasQueryParam=function(r){var t,e=this.queryPairs.length
for(t=0;t<e;t++)if(this.queryPairs[t][0]==r)return!0
return!1},Uri.prototype.replaceQueryParam=function(r,t,e){var i,s,o=-1,n=this.queryPairs.length
if(3===arguments.length){for(i=0;i<n;i++)if(decode((s=this.queryPairs[i])[0])===decode(r)&&decodeURIComponent(s[1])===decode(e)){o=i
break}o>=0&&this.deleteQueryParam(r,decode(e)).addQueryParam(r,t,o)}else{for(i=0;i<n;i++)if(decode((s=this.queryPairs[i])[0])===decode(r)){o=i
break}this.deleteQueryParam(r),this.addQueryParam(r,t,o)}return this},["protocol","hasAuthorityPrefix","isColonUri","userInfo","host","port","path","query","anchor"].forEach(function(r){var t="set"+r.charAt(0).toUpperCase()+r.slice(1)
Uri.prototype[t]=function(t){return this[r](t),this}}),Uri.prototype.scheme=function(){var r=""
return this.protocol()?(r+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(r+=":"),r+="//"):this.hasAuthorityPrefix()&&this.host()&&(r+="//"),r},Uri.prototype.origin=function(){var r=this.scheme()
return this.userInfo()&&this.host()&&(r+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(r+="@")),this.host()&&(r+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(r+=":"+this.port())),r},Uri.prototype.addTrailingSlash=function(){var r=this.path()||""
return"/"!==r.substr(-1)&&this.path(r+"/"),this},Uri.prototype.toString=function(){var r,e=this.origin()
return this.isColonUri()?this.path()&&(e+=":"+this.path()):this.path()?(r=this.path(),t.ends_with_slashes.test(e)||t.starts_with_slashes.test(r)?(e&&e.replace(t.ends_with_slashes,"/"),r=r.replace(t.starts_with_slashes,"/")):e+="/",e+=r):this.host()&&(this.query().toString()||this.anchor())&&(e+="/"),this.query().toString()&&(e+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(e+="#"),e+=this.anchor()),e},Uri.prototype.clone=function(){return new Uri(this.toString())},"function"==typeof define&&define.amd?define(function(){return Uri}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=Uri:r.Uri=Uri}(this)