// mB v6.07.10 on 2019-07-01T22:47:10.662Z
var $body,$ipad,$specular,$homeBtn,$next,$prev,$examples,$descriptions,$qrs,$mobileLenticular,$lenticularWrapper,$closeBtn,bodyWidth,bodyHeight,sexyLenticular,lamboLenticular,swansonLenticular,currentExample,windowWidth,zRotation,xPosition,mouseX,mouseY,currentLenticular,lenticular,transformProperty,transitionProperty,transitionEndProperty,NUM_EXAMPLES=3,TRANSITION_END_EVENTS={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}
function showLenticular(e){switch(e.preventDefault(),$lenticularWrapper=$('<div class="lenticular-wrapper">'),$mobileLenticular.append($lenticularWrapper),$(e.target).attr("class")){case"victoria-link":lenticular=new Lenticular.Image($lenticularWrapper[0],{images:"images/victoria/##.jpg",frames:82}),$mobileLenticular.css("background-color","#000"),$mobileLenticular.find("img").css("height","100%"),$lenticularWrapper.addClass("victoria-lenticular-wrapper")
break
case"swanson-link":lenticular=new Lenticular.Image($lenticularWrapper[0],{images:"images/swanson/##.jpg",frames:13}),$mobileLenticular.css("background-color","#000"),$mobileLenticular.find("img").css("width","100%"),$lenticularWrapper.addClass("swanson-lenticular-wrapper")
break
case"lambo-link":lenticular=new Lenticular.Image($lenticularWrapper[0],{images:"images/lambo/##.jpg",frames:18}),$mobileLenticular.css("background-color","#fff"),$mobileLenticular.find("img").css("width","100%"),$lenticularWrapper.addClass("lambo-lenticular-wrapper")}$mobileLenticular.show(),$closeBtn.css("display","block")}function hideLenticular(e){e.preventDefault(),lenticular.destroy(),$mobileLenticular.hide(),$closeBtn.css("display","none"),$lenticularWrapper.remove()}function moveIpad(e){var t=mouseX/bodyWidth,r=mouseY/bodyHeight
currentLenticular.showFrame(Math.round(t*(currentLenticular.frames-1))),$ipad.css(transformProperty,"translateZ("+zPosition+"px) translateX("+xPosition+"px) rotateY("+(20*t-10)+"deg) rotateX("+(3-6*r)+"deg) rotateZ("+zRotation+"deg)"),$specular.css(transformProperty,"translate3d("+(0==zRotation||90==zRotation?1:-1)*-(250*t-50)+"px, "+-100*r+"px, 0) rotate("+(30-zRotation)+"deg)"),$specular.css("opacity",1-.5*r)}function nextExample(e){currentExample=currentExample+1<NUM_EXAMPLES?currentExample+1:0,setCurrent()}function prevExample(e){currentExample=currentExample-1>-1?currentExample-1:NUM_EXAMPLES-1,setCurrent()}function setCurrent(){var e
$body.unbind("mousemove",moveIpad),$next.unbind("click",nextExample),$prev.unbind("click",prevExample)
var t,r,n=mouseX/bodyWidth||0,a=mouseY/bodyHeight||0
switch(currentLenticular&&(currentLenticular.element.style.opacity=0),currentExample){case 0:zRotation=0,xPosition=200,zPosition=0,t=-230,r=-290,currentLenticular=sexyLenticular
break
case 1:zRotation=-100,xPosition=-100,zPosition=0,t=-290,r=-340,currentLenticular=swansonLenticular
break
case 2:zRotation=97,xPosition=-100,zPosition=0,t=30,r=-350,currentLenticular=lamboLenticular}currentLenticular.showFrame(Math.round(n*(currentLenticular.frames-1))),currentLenticular.element.style.opacity=1,$descriptions.css("opacity",0),$descriptions[currentExample].style.opacity=1,$qrs.css("opacity",0),$qrs[currentExample].style.opacity=1,$ipad.bind(transitionEndProperty,function(t){e||(e=setTimeout(function(){$ipad.css(transitionProperty,"none"),$body.bind("mousemove",moveIpad),$next.bind("click",nextExample),$prev.bind("click",prevExample)},350))}),$ipad.css({"margin-left":t+"px","margin-top":r+"px"}),$ipad.css(transitionProperty,"all .75s ease-in-out"),$ipad.css(transformProperty,"translateZ("+zPosition+"px) translateX("+xPosition+"px) rotateY("+(20*n-10)+"deg) rotateX("+(3-6*a)+"deg) rotateZ("+zRotation+"deg)"),$specular.bind(transitionEndProperty,function(e){$specular.css(transitionProperty,"none")}),$specular.css(transitionProperty,"all .75s ease-in-out"),$specular.css(transformProperty,"translate3d("+(0==zRotation||90==zRotation?1:-1)*-(250*n-50)+"px, "+-100*a+"px, 0) rotate("+(30-zRotation)+"deg)"),$specular.css("opacity",1-.5*a)}function domToCss(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function preventScroll(e){e.preventDefault()}function setMouseCoords(e){mouseX=e.pageX,mouseY=e.pageY}function updateOrientation(e){0==window.orientation?$body.removeClass("is-landscape").addClass("is-portrait"):$body.removeClass("is-portrait").addClass("is-landscape"),$(window).scrollTop(0).scrollLeft(0)}$(document).ready(function(){$body=$("body"),$ipad=$(".example .ipad"),$specular=$(".example .specular"),$next=$(".next"),$prev=$(".previous"),$examples=$(".example"),$descriptions=$(".description"),$qrs=$(".qr"),$mobileLenticular=$(".mobile-lenticular"),$closeBtn=$(".mobile-close-btn"),transformProperty=domToCss(Modernizr.prefixed("transform")),transitionProperty=domToCss(Modernizr.prefixed("transition")),transitionEndProperty=TRANSITION_END_EVENTS[Modernizr.prefixed("transition")],windowWidth=$(window).width(),bodyWidth=$body.width(),bodyHeight=$body.height(),currentExample=0,bodyWidth<bodyHeight?$body.addClass("is-portrait"):$body.addClass("is-landscape"),bodyWidth>480?((sexyLenticular=new Lenticular.Image($(".victorias-secret")[0],{images:"images/victoria/##.jpg",frames:82,useTilt:!1})).showFrame(0),(lamboLenticular=new Lenticular.Image($(".lambo")[0],{images:"images/lambo/##.jpg",frames:18,useTilt:!1})).showFrame(0),(swansonLenticular=new Lenticular.Image($(".swanson")[0],{images:"images/swanson/##.jpg",frames:13,useTilt:!1})).showFrame(0),$body.bind("mousemove",setMouseCoords),setCurrent()):($(".mobile-examples a").bind("click",showLenticular),$closeBtn.bind("click",hideLenticular),$(window).bind("orientationchange",updateOrientation),$body.bind("touchmove",preventScroll),$(window).scrollTop(0).scrollLeft(0))})