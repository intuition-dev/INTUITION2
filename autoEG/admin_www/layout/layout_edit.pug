doctype html
html
	head
	script.
		ROOT = '#{ROOT}' //- sets global pug and .js from dat.yaml
		console.log('root','#{ROOT}')
		let _start=Date.now()
	meta(charset='utf-8')
	
	meta(name='viewport', content='user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width')
	title New Post
	link(rel='shortcut icon', href= ROOT + 'assets/favicon.png', type='image/x-icon')

	script(src='https://www.gstatic.com/firebasejs/5.4.2/firebase-app.js')
	script(src='https://www.gstatic.com/firebasejs/5.4.2/firebase-auth.js')
	script(src='https://cdn.jsdelivr.net/npm/johnnydepp@0.0.3/dist/depp.min.js')
	script(src='https://cdn.jsdelivr.net/npm/riot@3.12.0/riot.min.js')
	script(src='https://unpkg.com/axios@0.18.0/dist/axios.min.js')
	style.
		.delayShowing { opacity: 0.01; }

	script(src='/layout/tags/fb-tag.min.js')

	body
		#hideprops.delayShowing
			#edithead
				.navbar
					.navbar-section
						a.close.btn.btn-link(href='/screen/posts') Close
					.navbar-section
						script.
							function showProps(){
								$('#hideprops .navbar-section:last-child').hide();
								window.location.hash='#'
							}
						.btn(nohref onclick="showProps()")
							svg.feather.feather-settings(viewBox='0 0 24 24')
								circle(cx='12', cy='12', r='3')
								path(d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z')
						a.disabled2.save.btn Save...
			#edit.panel
				.body.panel-body
					#router
						block main
		nav#props.delayShowing
			#prophead
				.navbar
					.navbar-section
						a.close.btn.btn-link(href='/screen/posts') Close
					.navbar-section
						script.
							function hideProps(){
								window.location.hash='#hideprops'
								window.setTimeout(function(){
									$('#hideprops .navbar-section:last-child').show()
								}, 300) //after transition
							}
						.btn.active(nohref onclick="hideProps()")
							svg.feather.feather-settings(viewBox='0 0 24 24')
								circle(cx='12', cy='12', r='3')
								path(d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z')
						a.disabled2.save.btn Save...
			#prop.panel
				.body.panel-body
					.tile
						.tile-content
							h6.tile-title Post Settings
						.tile-action
							a(nohref onclick='hideProps()')
								svg.feather.feather-x(viewBox='0 0 24 24')
									line(x1='18', y1='6', x2='6', y2='18')
									line(x1='6', y1='6', x2='18', y2='18')
					block props


		script.
			function userSzSc() {
				console.log('resize|scroll')
			}
			console.log('console.log stops working ater jquery is loaded???')

		script(src='https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js')
		script.
			console.log('console.log should still work after jquery, but it does not ')
		script(src= ROOT + 'assets/js/setup.js')
		script.
			depp.define({'css': [
				ROOT + 'assets/css/spectre.css'
				, ROOT + 'assets/css/pickadate/classic.css'
				, ROOT + 'assets/css/pickadate/classic.date.css'
				, ROOT + 'assets/css/pickadate/classic.time.css'
				, ROOT + 'assets/css/nav.css'
				, ROOT + 'assets/css/main.css'
				, 'css!https://fonts.googleapis.com/css?family=Open+Sans'
			]})
			depp.require(['css','style'], function(){
				if (window.location.hash != '#hideprops')
					$('#hideprops .navbar-section:last-child').hide();
			})

		include modal

		//-link(href= ROOT + 'assets/css/debug.css', rel='stylesheet')

