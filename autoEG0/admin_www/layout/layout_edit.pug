doctype html
html
	head
		script.
			ROOT = '#{ROOT}' //- sets global pug and .js from dat.yaml
			console.log('root','#{ROOT}')
			let _start=Date.now()
		meta(charset='utf-8')
		
		meta(name='viewport', content='user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width')
		title New Post
		link(rel='shortcut icon', href= ROOT + 'assets/favicon.png', type='image/x-icon')

		script(src='https://www.gstatic.com/firebasejs/5.5.8/firebase-app.js')
		script(src='https://www.gstatic.com/firebasejs/5.5.8/firebase-auth.js')
		script(src='https://cdn.jsdelivr.net/npm/johnnydepp@0.0.3/dist/depp.min.js')
		script(src='https://cdn.jsdelivr.net/npm/riot@3.13.0/riot.min.js')
		script(src='https://unpkg.com/axios@0.19.0-beta.1/dist/axios.min.js')
		style.
			.delayShowing { opacity: 0.01; }

		script(src='/layout/tags/auth-tag.js')
		script(src='/screen/posts/tags/editor-tag.js')
		script(src='/screen/posts/tags/featuredimage-tag.min.js')
		script(src='/screen/posts/tags/medialist-tag.js')

	body
		#hideprops.delayShowing
			#edithead
				.navbar
					.navbar-section
						a.close.btn.btn-link(href='/screen/posts') Close
					.navbar-section
						script.
							function showProps(){
								$('#hideprops .navbar-section:last-child').hide();
								window.location.hash='#'
							}
						.btn(nohref onclick="showProps()")
							svg.feather.feather-settings(viewBox='0 0 24 24')
								circle(cx='12', cy='12', r='3')
								path(d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z')
						a.save.btn.btn-primary Save...
			#edit.panel
				.body.panel-body
					#router
						block main
		nav#props.delayShowing
			#prophead
				.navbar
					.navbar-section
						a.close.btn.btn-link(href='/screen/posts') Close
					.navbar-section
						script.
							function hideProps(){
								window.location.hash='#hideprops'
								window.setTimeout(function(){
									$('#hideprops .navbar-section:last-child').show()
								}, 300) //after transition
							}
						.btn.active(nohref onclick="hideProps()")
							svg.feather.feather-settings(viewBox='0 0 24 24')
								circle(cx='12', cy='12', r='3')
								path(d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z')
						a.primary.save.btn.btn-primary Save...
			#prop.panel
				.body.panel-body
					//- properties panel here
					.tile
						.tile-content
							h6.tile-title Post Settings
						.tile-action
							a(nohref onclick='hideProps()')
								svg.feather.feather-x(viewBox='0 0 24 24')
									line(x1='18', y1='6', x2='6', y2='18')
									line(x1='6', y1='6', x2='18', y2='18')
					.accordion
						input#accordion-1(type='checkbox', name='accordion-checkbox', hidden='')
						label.accordion-header(for='accordion-1')
							.flex.edge
								h6.left Status
								.right
								svg.feather.feather-chevron-down(viewBox='0 0 24 24')
									polyline(points='6 9 12 15 18 9')
								svg.feather.feather-chevron-up(viewBox='0 0 24 24')
									polyline(points='18 15 12 9 6 15')
						.accordion-body
							#publishdate.card
								.card-body
									.accordion
										input#accordion-2a(type='checkbox', name='accordion-checkbox', hidden='')
										label.accordion-header(for='accordion-2a')
											.flex.edge
												.left
													svg.feather.feather-calendar(viewBox='0 0 24 24')
														rect(x='3', y='4', width='18', height='18', rx='2', ry='2')
														line(x1='16', y1='2', x2='16', y2='6')
														line(x1='8', y1='2', x2='8', y2='6')
														line(x1='3', y1='10', x2='21', y2='10')
												#pdate.left.text-bold Publish Immediately
												.right
												svg.feather.feather-chevron-down(viewBox='0 0 24 24')
													polyline(points='6 9 12 15 18 9')
												svg.feather.feather-chevron-up(viewBox='0 0 24 24')
													polyline(points='18 15 12 9 6 15')
										.accordion-body
											p
											.text-center Choose a date to schedule:
											include tags/calendar

					.accordion
						input#accordion-2(type='checkbox', name='accordion-checkbox', hidden='')
						label.accordion-header(for='accordion-2')
							.flex.edge
								h6.left Tags
								.right
								svg.feather.feather-chevron-down(viewBox='0 0 24 24')
									polyline(points='6 9 12 15 18 9')
								svg.feather.feather-chevron-up(viewBox='0 0 24 24')
									polyline(points='18 15 12 9 6 15')
						.accordion-body
							.card
								.card-body
									//-include tags/autocomplete
									input.form-input(type='text', id='tags', placeholder='comma-delimited tags')
					.accordion
						input#accordion-3(type='checkbox', name='accordion-checkbox', hidden='')
						label.accordion-header(for='accordion-3')
							.flex.edge
								h6.left Featured Image
								.right
								svg.feather.feather-chevron-down(viewBox='0 0 24 24')
									polyline(points='6 9 12 15 18 9')
								svg.feather.feather-chevron-up(viewBox='0 0 24 24')
									polyline(points='18 15 12 9 6 15')
						.accordion-body
							#featuredimage.card
								featuredimage-tag

					.accordion
						input#accordion-4(type='checkbox', name='accordion-checkbox', hidden='')
						label.accordion-header(for='accordion-4')
							.flex.edge
								h6.left Media
								.right
								svg.feather.feather-chevron-down(viewBox='0 0 24 24')
									polyline(points='6 9 12 15 18 9')
								svg.feather.feather-chevron-up(viewBox='0 0 24 24')
									polyline(points='18 15 12 9 6 15')
						.accordion-body
							#mediax.card
								.card-body
									input.form-input(multiple type='file' id='fx', placeholder='other images')
							medialist-tag

		//- page-specific script
		block script

		script.
			function userSzSc() {
				console.log('resize|scroll')
			}

		script(src='https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js')
		script(src= ROOT + 'assets/js/setup.js')
		script.
			depp.define({'css': [
				ROOT + 'assets/css/spectre.css'
				, ROOT + 'assets/css/pickadate/classic.css'
				, ROOT + 'assets/css/pickadate/classic.date.css'
				, ROOT + 'assets/css/pickadate/classic.time.css'
				, ROOT + 'assets/css/nav.css'
				, ROOT + 'assets/css/main.css'
				, 'css!https://fonts.googleapis.com/css?family=Open+Sans'
			]})
			depp.require(['css','style'], function(){
				if (window.location.hash != '#hideprops')
					$('#hideprops .navbar-section:last-child').hide();
			})

		include modal

		//-link(href= ROOT + 'assets/css/debug.css', rel='stylesheet')

