doctype html
html
	head
		script.
			let _start=Date.now()
		include _header
		script(src='//cdn.jsdelivr.net/npm/loadjs@3.5.4/dist/loadjs.min.js')

		block head
		style.
			html { opacity: 0.01; }

	body
		script(src='/assets/js/setup.js')
		script(src='//cdn.jsdelivr.net/npm/riot@3.10.3/riot.min.js')

		//- side menu shell
		include _top

		//- container
		.pusher

			//- pushed
			block main

		script.
			console.log('layout')

			loadjs.ready('site', function() {
				//show a bit
				document.getElementsByTagName('html')[0].style.opacity = .04
			})

			loadjs.ready('style', function() {
				setTimeout(function(){
					document.getElementsByTagName('html')[0].style.opacity = 1
					console.log(Date.now()-_start)//time to show
				},1000/30)// 2 frames

			})//ready

		link(rel='stylesheet', href='//cdn.jsdelivr.net/npm/semantic-ui@2.3.1/dist/semantic.min.css')

