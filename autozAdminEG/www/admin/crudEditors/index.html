<!DOCTYPE html>
<html>
  <head>
    <script>window.ROOT = '/';
      console.log('root','/');
      
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">
    <link rel="stylesheet" href="/assets/css/screen.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <script src="/config.js"></script>
    <script>
      window.url_string = window.location.href.split('http://')[1].slice(0,6);
      window.env = window.url_string == 'al-adm' ? 'isProd' :'isLocal';
      console.log('window.env: ', window.env);
      
      window.LOCAL_API = [config.LOCAL_API,config.LOCAL_API_PASS];
      window.DEV_API = [config.DEV_API,config.DEV_API_PASS];
      
    </script>
    <script src="https://cdn.jsdelivr.net/npm/riot@3.13.2/riot.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/johnnydepp@0.0.3/dist/depp.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script src="/assets/js/app.js"></script>
  </head>
  <body>
    <header class="header">
      <div class="layout-wrap container">
        <div class="header-col header-col-left">
          <div class="logo"><a href="/">
              <div class="logo-text"></div></a></div>
        </div>
        <div class="header-col header-col-right">
          <div class="user-area"><a class="sign-out" href="#" id="sign-out">Sign out</a></div>
        </div>
      </div>
    </header>
    <div class="page-content container">
      <h1 class="table-header">Editors</h1>
      <div class="table-custom" id="editors-table"></div>
      <form class="grid-form" id="editor-form">
        <fieldset>
          <legend>Select row to edit/remove editor, to add editor type in new editor's login credentials</legend>
          <div data-row-span="3">
            <div data-field-span="1">
              <label>Email</label>
              <input type="text" name="name">
            </div>
            <div data-field-span="1">
              <label>Name</label>
              <input type="text" name="email" required="required">
            </div>
            <div data-field-span="1">
              <label>Password</label>
              <input type="text" name="password" required="required">
            </div>
          </div>
        </fieldset>
      </form>
      <div class="btn-row space-2v"><a class="btn-custom btn-primary" href="#" id="add-editor-link">Add</a><a class="btn-custom btn-primary" href="#" id="add-editor-link">Edit</a><a class="btn-custom btn-secondary" href="#" id="add-editor-link">Delete</a></div>
      <script>
        depp.require(['general'], function() {
            //let editors = new Editors(getApiService());
        
            let tabledata = [{id:'1', email: 'dffef',name: 'dffef'}];
        
            let table = new Tabulator("#editors-table", {
                data:tabledata,         // assign data to table
                layout:"fitColumns",    // fit columns to width of table
                columns:[               // Define Table Columns
                    {title:"id", field:"id", visible:false},
                    {title:"Email (login)", field:"email", align:"left"},
                    {title:"Name", field:"name", align:"left"}
                ],
                rowClick:function(e, row){
                    // fill the form fields on table row click
                    var row = row.getData();
                    $('input[name="name"]').val(row.name);
                    $('input[name="email"]').val(row.email);
                    //disE('row', row);
                },
            });
        
        
            window.onData = function(rows) {
                console.log(rows);
                table.clearData(rows);
                table.addData(rows);
                table.setData(rows);
            }//onData
        
            window.onErr = function(err) {
                console.log(err);
            }
              
            //read(onData, onErr);
        
            $(window).on('resize', function () {
                $(".tabulator").tabulator("redraw");
            });
        
            // form scripts
            $(document).on('click', '#btn-add', function (e) {
                e.preventDefault();
                $(this).attr("disabled", "disabled");
                employees
                    .save(employeeId, companyId, companyName)
                    .then(() => $(this).removeAttr("disabled"));
            });
        
        });
      </script>
    </div>
  <!-- mB v4.12.17 on 2018-12-07T10:21:41.590Z --></body>
</html>